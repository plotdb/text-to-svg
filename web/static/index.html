<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldui/ldui.min.css"><style type="text/css">html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}
</style></head><body><div class="p-4 h-100"><div class="d-flex flex-column h-100"><div class="mb-2"><textarea class="form-control" ld="edit" rows="5"></textarea></div><div class="flex-grow-1"><svg class="w-100 h-100 border" ld="svg"></svg></div></div></div><script type="text/javascript" src="/assets/lib/ldui/ldui.min.js"></script><script type="text/javascript" src="/assets/lib/tts/tts.bundle.min.js"></script><script type="text/javascript" src="/assets/lib/tts/ol.bundle.min.js"></script><script>// Generated by LiveScript 1.3.1
var textToSvg, opentypeLayout;
textToSvg = require("text-to-svg");
opentypeLayout = require("opentype-layout");
console.log(opentypeLayout);
textToSvg.load("/assets/font/pridi.ttf", function(e, tts){
  var scale, result, view;
  console.log(tts.font);
  scale = 1 / tts.font.unitsPerEm * 64;
  result = opentypeLayout(tts.font, "ok\nhow are you", {
    lineHeight: 2.5 * tts.font.unitsPerEm,
    width: 500 / scale
  });
  console.log(result);
  return view = new ldView({
    root: document.body,
    action: {
      input: {
        edit: function(arg$){
          var node, evt, svg, i$, i, ret, path, box, ref$, x, y;
          node = arg$.node, evt = arg$.evt;
          svg = view.get('svg');
          for (i$ = Array.from(svg.childNodes).length - 1; i$ >= 0; --i$) {
            i = i$;
            svg.removeChild(svg.childNodes[i]);
          }
          ret = tts.getD(view.get('edit').value);
          path = ld$.create({
            ns: 'svg',
            name: 'path'
          });
          path.setAttribute('d', ret);
          svg.appendChild(path);
          box = path.getBoundingClientRect();
          ref$ = [box.width, box.height], x = ref$[0], y = ref$[1];
          return path.setAttribute('transform', "translate(0, " + y + ")");
        }
      }
    }
  });
});</script></body></html>